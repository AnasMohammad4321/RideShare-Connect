// web3.min.js
document.addEventListener('DOMContentLoaded', function () {
    initWeb3();
    loadRides();
});

async function initWeb3() {
    if (window.ethereum) {
        window.web3 = new Web3(window.ethereum);
        try {
            // Request account access if needed
            await window.ethereum.enable();
        } catch (error) {
            console.error('User denied account access:', error);
        }
    } else if (window.web3) {
        window.web3 = new Web3(window.web3.currentProvider);
    } else {
        console.error('No web3 provider detected');
    }
}

async function signup(userType) {
    if (userType === 'customer') {
        await App.signupCustomer();
    } else if (userType === 'driver') {
        await App.signupDriver();
    }
}

async function login() {
    await App.signin();
}
